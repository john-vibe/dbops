<head>
    <meta charset="utf-8">
    <style>
        #db-backup-prod, #db-sync-prod {
            width: 100% !important;
        }

        .color-warning {
            color: red;
            font-size: 30px;
        }

        .color-success {
            color: #44d954;
            font-size: 30px;
        }

        .table > thead > tr > th {
            font-weight: normal !important;
            background-color: #73786f;
            color: #dbe2d5;
            text-align: center;
        }

        .color-warning {
            color: red;
            font-size: 30px;
        }

        .color-success {
            color: #44d954;
            font-size: 30px;
        }

        .modal-lg-detail {
            width: 45%;
            height: 60%;
            margin-left: 500px;
            margin-top: 50px;
        }

        .fixed-panel {
            min-height: 180px;
        }

        #active_num_hopson_biz_55, #total_num_hopson_biz_55, #qps_num_hopson_biz_55, #tps_num_hopson_biz_55 {
            width: 350px;
            height: 165px;
        }

        #active_num_hopson_biz_slave_88, #total_num_hopson_biz_slave_88, #qps_num_hopson_biz_slave_88, #tps_num_hopson_biz_slave_88 {
            width: 350px;
            height: 165px;
        }

        #active_num_hopson_bi_54, #total_num_hopson_bi_54, #qps_num_hopson_bi_54, #tps_num_hopson_bi_54 {
            width: 350px;
            height: 165px;
        }

        #active_num_hopson_stage_53, #total_num_hopson_stage_53, #qps_num_hopson_stage_53, #tps_num_hopson_stage_53 {
            width: 350px;
            height: 165px;
        }

        #hopson_order_num {
            width: 100%;
            height: 200px;
        }

        #hst_prod_real_sync_mysql_clickhouse_logger, #hst_prod_real_sync_mysql_clickhouse_executer {
            width: 100%;
            height: 150px;
        }

        #hft_prod_real_sync_mysql_clickhouse_logger, #hft_prod_real_sync_mysql_clickhouse_executer {
            width: 100%;
            height: 150px;
        }

        #monitor_review {
            width: 1000px;
            height: 280px;
        }

        .modal-lg-detail {
            width: 60%;
            height: 55%;
            max-height: 300px;
        }

        label {
            display: inline-block;
            width: 150px;
            text-align: right;
        }

    </style>
</head>
<body>
<br>
<div class="row">
    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-chart-areaspline widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">用户数</p>
                <h2><span id='user_num'></span>人 <small><i class="mdi mdi-arrow-up text-success"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->

    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-account-convert widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">数据源</p>
                <h2><span id='db_source_num'></span>个 <small><i class="mdi mdi-arrow-down text-danger"></i></small>
                </h2>
            </div>
        </div>
    </div><!-- end col -->

    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-layers widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">服务器</p>
                <h2><span id='server_num'></span>台 <small><i class="mdi mdi-arrow-up text-success"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->

    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-av-timer widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">问题单</p>
                <h2><span id='wtd_num'></span>个 <small><i class="mdi mdi-arrow-down text-danger"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->
    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-av-timer widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">SQL工单</p>
                <h2><span id='sql_num'></span>个 <small><i class="mdi mdi-arrow-down text-danger"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->

    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-av-timer widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">代理服务</p>
                <h2><span id='agent_num'></span>个 <small><i class="mdi mdi-arrow-down text-danger"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->
</div>
<div class="row">
    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-account-multiple widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">备份任务</p>
                <h2><span id='backup_task_num'></span>个<small><i class="mdi mdi-arrow-down text-danger"></i></small>
                </h2>
            </div>
        </div>
    </div><!-- end col -->

    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-download widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">同步任务</p>
                <h2><span id='sync_task_num'></span>个<small><i class="mdi mdi-arrow-up text-success"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->

    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-chart-areaspline widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">监控任务</p>
                <h2><span id='stats_task_num'></span>个<small><i class="mdi mdi-arrow-up text-success"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->

    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-account-convert widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">慢日志任务</p>
                <h2><span id='slow_task'></span>个<small><i class="mdi mdi-arrow-down text-danger"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->

    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-layers widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">图片任务</p>
                <h2><span id='minio_task'></span>个<small><i class="mdi mdi-arrow-up text-success"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->

    <div class="col-lg-2 col-md-4 col-sm-6">
        <div class="card-box widget-box-one">
            <i class="mdi mdi-av-timer widget-one-icon"></i>
            <div class="wigdet-one-content">
                <p class="m-0 text-uppercase font-600 font-secondary text-overflow">归档任务</p>
                <h2><span id='archive_task'></span>个<small><i class="mdi mdi-arrow-down text-danger"></i></small></h2>
            </div>
        </div>
    </div><!-- end col -->
</div>

<!--工单情况 -->
<div id='div-order' class="panel panel-default">
    <div class="panel-body">
        <ul class="nav nav-pills m-b-30 pull-left">
            <li class="active">
                <a href="#hopsonone-order" data-toggle="tab" aria-expanded="true">数据库工单</a>
            </li>
        </ul>
        <div class="tab-content br-n pn">
            <div class="panel-body fixed-panel">
                <div id='hopson_order_num'></div>
            </div>
        </div>
    </div>
</div>

<!--实时同步 -->
<div class="row">
    <div class="panel panel-border panel-primary">
        <div class="panel-heading">
            <h3 id='hst_real_div' class="panel-title">实时同步[合生通]</h3>
        </div>
        <div class="panel-body">
            <div class="col-md-6">
                <div class="panel panel-border panel-primary">
                    <div class="panel-body fixed-panel">
                        <div id='hst_prod_real_sync_mysql_clickhouse_logger'></div>
                    </div>
                    <div class="panel-footer">
                        <span id='hst-real-process'></span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-border panel-primary">
                    <div class="panel-body fixed-panel">
                        <div id='hst_prod_real_sync_mysql_clickhouse_executer'></div>
                    </div>
                </div>
            </div>
        </div>

    </div>
</div>

<!--实时同步 -->
<div class="row">
    <div class="panel panel-border panel-primary">
        <div class="panel-heading">
            <h3 id='hft_real_div' class="panel-title">实时同步[会付通]</h3>
        </div>
        <div class="panel-body">
            <div class="col-md-6">
                <div class="panel panel-border panel-primary">
                    <div class="panel-body fixed-panel">
                        <div id='hft_prod_real_sync_mysql_clickhouse_logger'></div>
                    </div>
                    <div class="panel-footer">
                        <span id='hft-real-process'></span>
                    </div>
                </div>
            </div>
            <div class="col-md-6">
                <div class="panel panel-border panel-primary">
                    <div class="panel-body fixed-panel">
                        <div id='hft_prod_real_sync_mysql_clickhouse_executer'></div>
                    </div>
                </div>
            </div>
            </dclassiv>
        </div>
    </div>


    <!--数据库运行情况 合生通-主库-->
    <div class="row">
        <div class="panel panel-border panel-primary">
            <div class="panel-heading">
                <h3 id='title_55' class="panel-title">合生通-主库[MySQL]</h3>
            </div>
            <div class="panel-body">
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='total_num_hopson_biz_55'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='active_num_hopson_biz_55'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='qps_num_hopson_biz_55'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='tps_num_hopson_biz_55'></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--数据库运行情况 合生通-从库-->
    <div class="row">
        <div class="panel panel-border panel-teal">
            <div class="panel-heading">
                <h3 id='title_88' class="panel-title">合生通-从库[MySQL]</h3>
            </div>
            <div class="panel-body">
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='total_num_hopson_biz_slave_88'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='active_num_hopson_biz_slave_88'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='qps_num_hopson_biz_slave_88'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='tps_num_hopson_biz_slave_88'></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!--数据库运行情况 合生通-BI库-->
    <div class="row">
        <div class="panel panel-border panel-inverse">
            <div class="panel-heading">
                <h3 id='title_54' class="panel-title">合生通-BI库[MySQL]</h3>
            </div>
            <div class="panel-body">
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='total_num_hopson_bi_54'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='active_num_hopson_bi_54'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='qps_num_hopson_bi_54'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='tps_num_hopson_bi_54'></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

    </div>

    <!--数据库运行情况 中转库-->
    <div class="row">
        <div class="panel panel-border panel-brown">
            <div class="panel-heading">
                <h3 id='title_53' class="panel-title">合生通-中转库[MySQL]</h3>
            </div>
            <div class="panel-body">
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='total_num_hopson_stage_53'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='active_num_hopson_stage_53'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='qps_num_hopson_stage_53'></div>
                        </div>
                    </div>
                </div>
                <div class="col-md-3">
                    <div class="panel panel-border panel-primary">
                        <div class="panel-body fixed-panel">
                            <div id='tps_num_hopson_stage_53'></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!--数据库备份情况 -->
    <div id='div-backup' class="panel panel-default">
        <div class="panel-body">
            <ul class="nav nav-pills m-b-30 pull-left">
                <li class="active">
                    <a href="#hopsonone-backup" data-toggle="tab" aria-expanded="true">数据库备份</a>
                </li>
            </ul>
            <div class="tab-content br-n pn">
                <div class="tab-pane active" id="hopsonone-backup-prod">
                    <table id="db-backup-prod" class="table table-striped table-bordered dt-responsive nowrap"
                           cellspacing="0" width="100%" height="100%"></table>
                    <span id='backup-num'></span>
                </div>
            </div>
        </div>
    </div>
</div>

<!--数据库同步情况 -->
<div d='div-sync' class="panel panel-default">
    <div class="panel-body">
        <ul class="nav nav-pills m-b-30 pull-left">
            <li class="active">
                <a href="#hopsonone-sync" data-toggle="tab" aria-expanded="true">数据库同步</a>
            </li>
        </ul>
        <div class="tab-content br-n pn">
            <div class="tab-pane active" id="hopsonone-sync-prod">
                <table id="db-sync-prod" class="table table-striped table-bordered dt-responsive nowrap" cellspacing="0"
                       width="100%" height="100%"></table>
                <span id='sync-num'></span>
            </div>
        </div>
    </div>
</div>
</div>

<!--任务详情窗口 -->
<div id="con-modal-sync-task" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true" style="display: none;">
    <div class="modal-dialog modal-lg-detail">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title">任务详情</h4>
            </div>
            <div class="modal-body">
                <div class="panel panel-flat">
                    <div class="panel-body">
                        <form class="form-horizontal" role="form">
                            <div class="form-group">
                                <div>
                                    <label class="col-md-2 control-label">任务名称：</label>
                                </div>
                                <div class="col-md-10">
                                    <input type="text" id="sync_comments" readonly class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <div>
                                    <label class="col-md-2 control-label">同步标识号</label>
                                </div>
                                <div class="col-md-10">
                                    <input id="sync_tag" type="text" readonly class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <div>
                                    <label class="col-md-2 control-label">源数据库名</label>
                                </div>
                                <div class="col-md-10">
                                    <input id="sync_schema" type="text" readonly class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <div>
                                    <label class="col-md-2 control-label">全量批大小</label>
                                </div>
                                <div class="col-md-10">
                                    <input id="sync_batch_size" type="text" readonly class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <div>
                                    <label class="col-md-2 control-label">增量批大小</label>
                                </div>
                                <div class="col-md-10">
                                    <input id="sync_batch_size_incr" type="text" readonly class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <div>
                                    <label class="col-md-2 control-label">运行时间</label>
                                </div>
                                <div class="col-md-10">
                                    <input id="run_time" type="text" readonly class="form-control">
                                </div>
                            </div>
                            <div class="form-group">
                                <div>
                                    <label class="col-md-2 control-label">最近同步时间</label>
                                </div>
                                <div class="col-md-10">
                                    <input id="last_sync_time" type="text" readonly class="form-control">
                                </div>
                            </div>
                        </form>
                    </div>
                </div>
                <div class="modal-footer">
                    <div class="col-sm-offset-3 col-sm-4">
                        <button type="button" class="btn btn-custom waves-effect waves-light btn-md"
                                data-dismiss="modal">关闭
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!--图表放大窗口 -->
<div id="con-modal-img-win" class="modal fade" tabindex="-1" role="dialog" aria-labelledby="myModalLabel"
     aria-hidden="true" style="display: none;">
    <div class="modal-dialog modal-lg-detail">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">×</button>
                <h4 id='monitor_review_title' class="modal-title">图表预览</h4>
                <input type="hidden" id="monitor_review_title_hidden">
            </div>
            <div class="modal-body">
                <div class="panel panel-flat">
                    <div class="panel-body">
                        <form class="form-horizontal" role="form">
                            <div class="form-group">
                                <div class="col-md-2">
                                    <div class="input-group">
                                        <label class="control-label">开始日期</label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="ion-ios7-clock-outline"></i></span>
                                        <input id="begin_date" type="text" value="" class="form-control datetimepicker"
                                               readonly>
                                        <span class="input-group-addon bg-custom b-0"><i
                                                class="mdi mdi-calendar text-white"></i></span>
                                    </div>
                                </div>
                                <div class="text-right col-md-2">
                                    <div class="input-group">
                                        <label class="control-label">结束日期&nbsp;</label>
                                    </div>
                                </div>
                                <div class="col-md-3">
                                    <div class="input-group">
                                        <span class="input-group-addon"><i class="ion-ios7-alarm-outline"></i></span>
                                        <input id="end_date" type="text" value="" class="form-control datetimepicker"
                                               readonly>
                                        <span class="input-group-addon bg-custom b-0"><i
                                                class="mdi mdi-calendar text-white"></i></span>
                                    </div>
                                </div>
                                <div class="col-md-2">
                                    <div class="input-group">
                                        <span class="input-group-btn">
                                           <button type="button" id='query_btn'
                                                   class="btn waves-effect waves-light btn-primary"><i
                                                   class="fa fa-search"></i></button>
                                        </span>
                                    </div>
                                </div>

                            </div>
                        </form>
                        <div class="col-md-12">
                            <div class="panel panel-border panel-primary">
                                <div class="panel-body fixed-panel">
                                    <div id='monitor_review'></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>

    let n_hst_max_id = 0
    let n_hft_max_id = 0
    let n_hst2_max_id = 0
    let n_hft2_max_id = 0
    let n_timerout = 10000

    function get_charts(p_item, p_title, p_x_data, p_y_data, p_color) {
        var myChart = echarts.init($('#' + p_item)[0]);
        var option = {
            title: {
                text: p_title,
                left: 'center',
                textStyle: {
                    color: '#a4a4a4',
                    fontStyle: 'italic',
                    fontWeight: 'bold',
                    fontFamily: '宋体',
                    fontSize: 10
                }
            },
            grid: {
                top: '25px',
                bottom: '20px',
                right: '15px',
                left: '20px'
            },
            xAxis: {
                type: 'category',
                splitLine: {
                    show: false
                },
                axisLine: {show: true, lineStyle: {color: '#6173A3'}},
                axisLabel: {textStyle: {color: '#9ea7c4', fontSize: 8}},
                axisTick: {show: false},
                data: p_x_data
            },
            yAxis: {
                type: 'value',
                splitLine: {
                    show: false
                },
                axisTick: {show: false},
                splitLine: {show: false},
                axisLabel: {textStyle: {color: '#9ea7c4', fontSize: 8}},
                axisLine: {show: true, lineStyle: {color: '#6173A3'}},
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            series: [{
                data: p_y_data,
                type: 'line',
                itemStyle: {
                    normal: {
                        lineStyle: {
                            color: p_color
                        }
                    }
                },
                showAllSymbol: false,
                symbolSize: 1,
                smooth: true
            }]
        };
        myChart.setOption(option);
    }

    function get_charts_large(p_item, p_title, p_x_data, p_y_data, p_color) {
        var myChart = echarts.init($('#' + p_item)[0]);
        var option = {
            title: {
                text: p_title,
                left: 'center',
                textStyle: {
                    color: '#9ea7c4',
                    fontWeight: 'bold',
                    fontFamily: '宋体',
                    fontSize: 12
                }
            },
            grid: {
                top: '25px',
                bottom: '60px',
                right: '15px',
                left: '30px'
            },
            xAxis: {
                type: 'category',
                splitLine: {
                    show: false
                },
                axisLine: {show: true, lineStyle: {color: '#329ba3'}},
                axisLabel: {
                    textStyle:
                        {
                            color: '#9ea7c4',
                            fontSize: 8,
                            fontStyle: 'italic',
                            fontWeight: 'bold'
                        }
                },
                axisTick: {show: false},
                data: p_x_data
            },
            yAxis: {
                type: 'value',
                splitLine: {
                    show: false
                },
                margin: 5,
                rotate: 60,
                axisTick: {show: false},
                splitLine: {show: false},
                axisLabel: {textStyle: {color: '#9ea7c4', fontSize: 8}},
                axisLine: {show: true, lineStyle: {color: '#6173A3'}},
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#83d5a5'
                    }
                }
            },
            toolbox: {
                show: true,
                feature: {
                    saveAsImage: {
                        show: true,
                        excludeComponents: ['toolbox'],
                        pixelRatio: 1
                    }
                }
            },
            series: [{
                data: p_y_data,
                type: 'line',
                itemStyle: {
                    normal: {
                        lineStyle: {
                            color: p_color
                        }
                    }
                },
                showAllSymbol: false,
                symbolSize: 1,
                smooth: true
            }]
        };
        myChart.setOption(option);
    }

    function get_charts_bar(p_item, p_title, p_x_data, p_y_data, p_color) {
        var myChart = echarts.init($('#' + p_item)[0], 'light');
        var option = {
            title: {
                text: p_title,
                left: 'center',
                textStyle: {
                    color: '#a4a4a4',
                    fontStyle: 'italic',
                    fontWeight: 'bold',
                    fontFamily: '宋体',
                    fontSize: 10
                }
            },
            grid: {
                top: '25px',
                bottom: '20px',
                right: '15px',
                left: '20px'
            },
            xAxis: {
                type: 'category',
                splitLine: {
                    show: false
                },
                axisLine: {show: true, lineStyle: {color: '#6173A3'}},
                axisLabel: {textStyle: {color: '#9ea7c4', fontSize: 8}},
                axisTick: {show: false},
                data: p_x_data
            },
            yAxis: {
                type: 'value',
                splitLine: {
                    show: false
                },
                axisTick: {show: false},
                splitLine: {show: false},
                axisLabel: {textStyle: {color: '#9ea7c4', fontSize: 8}},
                axisLine: {show: true, lineStyle: {color: '#6173A3'}},
            },
            tooltip: {
                trigger: 'axis',
                axisPointer: {
                    type: 'cross',
                    label: {
                        backgroundColor: '#6a7985'
                    }
                }
            },
            legend: {
                data: ['合生通', '会付通', '开发', '测试']
            },
            series: [{
                name: '合生通',
                data: p_y_data[0],
                type: 'bar',
                showAllSymbol: false,
                symbolSize: 1,
                smooth: true
            },
                {
                    name: '会付通',
                    data: p_y_data[1],
                    type: 'bar',
                    showAllSymbol: false,
                    symbolSize: 1,
                    smooth: true
                }, {
                    name: '开发',
                    data: p_y_data[2],
                    type: 'bar',
                    showAllSymbol: false,
                    symbolSize: 1,
                    smooth: true
                },
                {
                    name: '测试',
                    data: p_y_data[3],
                    type: 'bar',
                    showAllSymbol: false,
                    symbolSize: 1,
                    smooth: true
                }
            ]
        };
        myChart.setOption(option);
    }

    function get_charts_real_line(p_item, p_title, p_flag, p_color) {

        function getRealData(p_sync_tag, p_max_id) {
            let res;
            $.ajax({
                url: "/get/db/real/sync",
                type: "post",
                async: false,
                data: {
                    'sync_tag': p_sync_tag,
                    'max_id': p_max_id
                },
                datatype: "json",
                success: function (dataSet) {
                    console.log('dataSet=', dataSet)
                    res = dataSet.data
                    mid = dataSet.max_id
                    if (p_sync_tag.indexOf('hst_') >= 0 && p_sync_tag.indexOf('logger') >= 0) {
                        $('#hst-real-process').text(
                            'mysql:' + dataSet.c_binlogfile + '/' + dataSet.c_binlogpos + ' -  syncer:' + dataSet.binlogfile + '/' + dataSet.binlogpos)
                    }
                    if (p_sync_tag.indexOf('hft_') >= 0 && p_sync_tag.indexOf('logger') >= 0) {
                        $('#hft-real-process').text(
                            'mysql:' + dataSet.c_binlogfile + '/' + dataSet.c_binlogpos + ' -  syncer:' + dataSet.binlogfile + '/' + dataSet.binlogpos)
                    }
                }
            });
            return {
                'data': res,
                'mid': mid
            }
        }

        var myChart = echarts.init($('#' + p_item)[0], 'light');
        let data = [];

        if (p_flag == 'HST') {
            res = getRealData(p_item, 1)
            data = res.data
            mid = res.mid
            n_hst_max_id = mid + 1
        } else if (p_flag == 'HFT') {
            res = getRealData(p_item, 1)
            data = res.data
            mid = res.mid
            n_hft_max_id = mid + 1
        } else if (p_flag == 'HST2') {
            res = getRealData(p_item, 1)
            data = res.data
            mid = res.mid
            n_hst2_max_id = mid + 1
        } else if (p_flag == 'HFT2') {
            res = getRealData(p_item, 1)
            data = res.data
            mid = res.mid
            n_hft2_max_id = mid + 1
        }

        option = {
            tooltip: {
                trigger: 'axis',
                formatter: function (params) {
                    params = params[0];
                    return (
                        params.name.split(' ')[1] +
                        ' : ' +
                        params.value[1] / 10 + '[e/s]'
                    );
                },
                axisPointer: {
                    animation: false
                }
            },
            title: {
                text: p_title,
                left: 'center',
                textStyle: {
                    color: p_color,
                    fontStyle: 'italic',
                    fontWeight: 'bold',
                    fontFamily: '宋体',
                    fontSize: 14
                }
            },
            grid: {
                top: '25px',
                bottom: '20px',
                right: '25px',
                left: '40px'
            },
            xAxis: {
                type: 'time',
                splitLine: {
                    show: false
                }
            },
            yAxis: {
                type: 'value',
                boundaryGap: [0, '100%'],
                splitLine: {
                    show: false
                }
            },
            series: [
                {
                    type: 'line',
                    areaStyle: {color: p_color},
                    itemStyle: {normal: {color: p_color}},
                    showSymbol: false,
                    data: data
                }
            ]
        };
        myChart.setOption(option);
        main.html

        if (p_flag == 'HST') {
            timer = setInterval(function () {
                console.log('timer....')
                res = getRealData(p_item, n_hst_max_id)
                if (res.data.length > 0) {
                    data.shift();
                    res = getRealData(p_item, n_hst_max_id)
                    data.push(res.data[0])
                    n_hst_max_id = res.mid
                }
                myChart.setOption({
                    series: [
                        {
                            data: data
                        }
                    ]
                });
            }, n_timerout);
        } else if (p_flag == 'HFT') {
            timer2 = setInterval(function () {
                console.log('timer2....')
                res = getRealData(p_item, n_hft_max_id)
                if (res.data.length > 0) {
                    data.shift();
                    res = getRealData(p_item, n_hft_max_id)
                    data.push(res.data[0])
                    n_hft_max_id = res.mid
                }
                myChart.setOption({
                    series: [
                        {
                            data: data
                        }
                    ]
                });
            }, n_timerout + 5000);

        } else if (p_flag == 'HST2') {
            timer3 = setInterval(function () {
                console.log('timer3....')
                res = getRealData(p_item, n_hst2_max_id)
                if (res.data.length > 0) {
                    data.shift();
                    res = getRealData(p_item, n_hst2_max_id)
                    data.push(res.data[0])
                    n_hst2_max_id = res.mid
                }
                myChart.setOption({
                    series: [
                        {
                            data: data
                        }
                    ]
                });
            }, n_timerout * 2);
        } else if (p_flag == 'HFT2') {
            timer4 = setInterval(function () {
                console.log('timer4....')
                res = getRealData(p_item, n_hft2_max_id)
                if (data.length > 0) {
                    data.shift();
                    res = getRealData(p_item, n_hft2_max_id)
                    data.push(res.data[0])
                    n_hft2_max_id = res.mid
                }
                myChart.setOption({
                    series: [
                        {
                            data: data
                        }
                    ]
                });
            }, (n_timerout + 5000) * 2);

        }

    }

    function set_sync_task(dataSet, max_syrq, sync_sts) {
        $('#sync_comments').val(dataSet['comments'])
        $('#sync_tag').val(dataSet['sync_tag'])
        $('#sync_schema').val(dataSet['sync_schema'])
        $('#sync_batch_size').val(dataSet['batch_size'])
        $('#sync_batch_size_incr').val(dataSet['batch_size_incr'])
        $('#run_time').val(dataSet['run_time'])
        $('#last_sync_time').val(max_syrq)
        if (sync_sts == '1') {
            $("#last_sync_time").css("color", "red");
        } else {
            $("#last_sync_time").css("color", "black");
        }
    }

    function get_title_by_id(p_id) {
        var id = 'title_' + p_id.split('_')[p_id.split('_').length - 1];
        return $('#' + id).text()
    }

    function get_contents_from_div(p_id, p_render_id) {
        var db_id = p_id.split('_')[p_id.split('_').length - 1];
        if (p_id.indexOf("total") >= 0) {
            $.ajax({
                url: "/get/db/active/num",
                type: "post",
                data: {
                    'db_id': db_id,
                    'begin_date': $('#begin_date').val(),
                    'end_date': $('#end_date').val()
                },
                datatype: "json",
                beforeSend: function () {
                    start_Loader(p_render_id)
                },
                complete: function () {
                    end_Loader(p_render_id)
                },
                success: function (dataSet) {
                    get_charts(p_render_id, '总连接数', dataSet['amount']['x_total'], dataSet['amount']['y_total'], '#6495ED')
                    get_charts(p_render_id.replace('total', 'active'), '活跃连接数', dataSet['amount']['x'], dataSet['amount']['y'], '#6495ED')
                    get_charts(p_render_id.replace('total', 'qps'), '每秒查询数', dataSet['amount']['x_qps'], dataSet['amount']['y_qps'], '#6495ED')
                    get_charts(p_render_id.replace('total', 'tps'), '每秒事务数', dataSet['amount']['x_tps'], dataSet['amount']['y_tps'], '#6495ED')
                }
            });

        } else if (p_id.indexOf("order") >= 0) {
            $.ajax({
                url: "/get/db/order/num",
                type: "post",
                datatype: "json",
                beforeSend: function () {
                    start_Loader(p_render_id)
                },
                complete: function () {
                    end_Loader(p_render_id)
                },
                success: function (dataSet) {
                    console.log(dataSet)
                    get_charts_bar(p_render_id, '', dataSet['amount']['x'], dataSet['amount']['y'], '#6495ed')
                }
            });
        } else if (p_id.indexOf("hst_prod_real_sync_mysql_clickhouse_logger") >= 0) {
            get_charts_real_line(p_render_id, '[mysql->ck->logger]', 'HST', '#b7a9ce')
        } else if (p_id.indexOf("hst_prod_real_sync_mysql_clickhouse_executer") >= 0) {
            get_charts_real_line(p_render_id, '[mysql->ck->execter]', 'HST2', '#d4ab9e')
        } else if (p_id.indexOf("hft_prod_real_sync_mysql_clickhouse_logger") >= 0) {
            get_charts_real_line(p_render_id, '[mysql->ck_>logger]', 'HFT', '#8aa1a1')
        } else if (p_id.indexOf("hft_prod_real_sync_mysql_clickhouse_executer") >= 0) {
            get_charts_real_line(p_render_id, '[mysql->ck_>execter]', 'HFT2', '#d08e7d')
        }
    }

    function get_contents_from_div_large(p_id, p_render_id) {
        var dbid = p_id.split('_')[p_id.split('_').length - 1];
        if (p_id.indexOf("total") >= 0) {
            var inst_id = p_id.split('_')[p_id.split('_').length - 2];
            $.ajax({
                url: "/get/db/active/num",
                type: "post",
                data: {
                    'db_id': dbid,
                    'begin_date': $('#begin_date').val(),
                    'end_date': $('#end_date').val()
                },
                datatype: "json",
                beforeSend: function () {
                    start_Loader(p_render_id)
                },
                complete: function () {
                    end_Loader(p_render_id)
                },
                success: function (dataSet) {
                    get_charts_large(p_render_id, '总连接数', dataSet['amount']['x_total'], dataSet['amount']['y_total'], '#edc4a7')
                }
            });

        } else if (p_id.indexOf("active") >= 0) {
            $.ajax({
                url: "/get/db/active/num",
                type: "post",
                data: {
                    'db_id': dbid,
                    'begin_date': $('#begin_date').val(),
                    'end_date': $('#end_date').val()
                },
                datatype: "json",
                beforeSend: function () {
                    start_Loader(p_render_id)
                },
                complete: function () {
                    end_Loader(p_render_id)
                },
                success: function (dataSet) {
                    get_charts_large(p_render_id, '活跃连接数', dataSet['amount']['x'], dataSet['amount']['y'], '#99a347')
                }
            });
        } else if (p_id.indexOf("qps") >= 0) {
            $.ajax({
                url: "/get/db/active/num",
                type: "post",
                data: {
                    'db_id': dbid,
                    'begin_date': $('#begin_date').val(),
                    'end_date': $('#end_date').val()
                },
                datatype: "json",
                beforeSend: function () {
                    start_Loader(p_render_id)
                },
                complete: function () {
                    end_Loader(p_render_id)
                },
                success: function (dataSet) {
                    get_charts_large(p_render_id, '每秒查询数', dataSet['amount']['x_qps'], dataSet['amount']['y_qps'], '#a47278')
                }
            });

        } else if (p_id.indexOf("tps") >= 0) {
            $.ajax({
                url: "/get/db/active/num",
                type: "post",
                data: {
                    'db_id': dbid,
                    'begin_date': $('#begin_date').val(),
                    'end_date': $('#end_date').val()
                },
                datatype: "json",
                beforeSend: function () {
                    start_Loader(p_render_id)
                },
                complete: function () {
                    end_Loader(p_render_id)
                },
                success: function (dataSet) {
                    get_charts_large(p_render_id, '每秒事务数', dataSet['amount']['x_tps'], dataSet['amount']['y_tps'], '#6495ed')
                }
            });

        }
    }

    function set_sys_status_values() {
        $.ajax({
            url: "/get/sys/stats/idx",
            type: "post",
            datatype: "json",
            beforeSend: function () {
                start_Loader('user_num')
                start_Loader('db_source_num')
                start_Loader('server_num')
                start_Loader('wtd_num')
                start_Loader('sql_num')
                start_Loader('agent_num')
                start_Loader('backup_task_num')
                start_Loader('sync_task_num')
                start_Loader('stats_task_num')
                start_Loader('slow_task')
                start_Loader('minio_task')
                start_Loader('archive_task')
            },
            complete: function () {
                end_Loader('user_num')
                end_Loader('db_source_num')
                end_Loader('server_num')
                end_Loader('wtd_num')
                end_Loader('sql_num')
                end_Loader('agent_num')
                end_Loader('backup_task_num')
                end_Loader('sync_task_num')
                end_Loader('stats_task_num')
                end_Loader('slow_task')
                end_Loader('minio_task')
                end_Loader('archive_task')
            },
            success: function (dataSet) {
                $('#user_num').text(dataSet['user_num'])
                $('#db_source_num').text(dataSet['db_source_num'])
                $('#server_num').text(dataSet['server_num'])
                $('#wtd_num').text(dataSet['wtd_num'])
                $('#sql_num').text(dataSet['sql_num'])
                $('#agent_num').text(dataSet['agent_num'])
                $('#backup_task_num').text(dataSet['backup_task_num'])
                $('#sync_task_num').text(dataSet['sync_task_num'])
                $('#stats_task_num').text(dataSet['stats_task_num'])
                $('#slow_task').text(dataSet['slow_task'])
                $('#minio_task').text(dataSet['minio_task'])
                $('#archive_task').text(dataSet['archive_task'])
            }
        });
    }

    $(document).ready(function () {
        $('#begin_date').val(GetDate(3));
        $('#end_date').val(GetDate(2));
        set_sys_status_values();

        $.ajax({
            url: "/backup_case",
            type: "post",
            datatype: "json",
            data: {
                db_env: '1'
            },
            beforeSend: function () {
                start_Loader('div-backup')
            },
            complete: function () {
                end_Loader('div-backup')
            },
            success: function (dataSet) {
                $('#db-backup-prod').DataTable({
                    "stripeClasses": ['cell-border', 'cell-border', 'cell-border'],
                    "dom": '<"top"<"clear">>rt<"bottom"ip<"clear">>',
                    destroy: true,
                    async: true,
                    ordering: true,
                    scrollY: true,
                    scrollX: true,
                    paging: true,
                    iDisplayLength: 6,
                    data: dataSet.data,
                    autoFill: true,
                    bAutoWidth: true,
                    info: true,
                    columns: [
                        {"title": "数据源描述", "width": "20%"},
                        {"title": "数据库类型", "width": "10%"},
                        {"title": "开始时间", "width": "15%"},
                        {"title": "结束时间", "width": "15%"},
                        {"title": "备份大小[M]", "width": "15%"},
                        {"title": "备份时长[s]", "width": "15%"},
                        {"title": "备份状态", "width": "10%"},
                    ],
                    columnDefs: [
                        {
                            targets: 6,
                            render: function (data, type, row, meta) {
                                if (row[6] == '√') {
                                    b = '<i class="ion-ios7-lightbulb color-success"></i>'
                                    return b
                                } else {
                                    b = '<i class="ion-ios7-bell color-warning"></i>'
                                    return b
                                }
                            }
                        }
                    ],
                    "language": get_languages()
                });
                if (dataSet['failure'] > 0) {
                    $('#backup-num').html('成功：' + dataSet['success'] + '个,失败:<font color="#FF0000">' + dataSet['failure'] + '</font> 个')
                } else {
                    $('#backup-num').html('成功：' + dataSet['success'] + '个,失败:' + dataSet['failure'] + '个')
                }
            }
        });

        $.ajax({
            url: "/sync_case",
            type: "post",
            datatype: "json",
            data: {
                sync_ywlx: '1'
            },
            beforeSend: function () {
                start_Loader('div-sync')
            },
            complete: function () {
                end_Loader('div-sync')
            },
            success: function (dataSet) {
                $('#db-sync-prod').DataTable({
                    "stripeClasses": ['cell-border', 'cell-border', 'cell-border'],
                    "dom": '<"top"<"clear">>rt<"bottom"ip<"clear">>',
                    destroy: true,
                    async: true,
                    ordering: false,
                    scrollY: true,
                    scrollX: true,
                    paging: true,
                    iDisplayLength: 6,
                    data: dataSet.data,
                    autoFill: true,
                    bAutoWidth: true,
                    info: true,
                    columns: [
                        {"title": "项目代码", "width": "5%"},
                        {"title": "项目名称", "width": "12%"},
                        {
                            "title": "离线客流",
                            "width": "9%",
                            "className": 'table_td_center',
                            "render": function (data, type, row, meta) {
                                var tmp = '';
                                var result = '';
                                for (i = 0; i < row[2].split(',').length; i++) {
                                    var status = row[2].split(',')[i].split('@')[0]
                                    var syncid = row[2].split(',')[i].split('@')[1]
                                    var rqq = row[2].split(',')[i].split('@')[2]
                                    if (status == '1') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-warning"></i>'
                                    } else if (status == '0') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-success"></i>'
                                    } else {
                                        tmp = ''
                                    }
                                    result = result + '&nbsp;&nbsp;' + tmp + '&nbsp;&nbsp;';
                                }
                                return result
                            }
                        },
                        {
                            "title": "实时客流",
                            "width": "9%",
                            "className": 'table_td_center',
                            "render": function (data, type, row, meta) {
                                var tmp = '';
                                var result = '';
                                for (i = 0; i < row[3].split(',').length; i++) {
                                    var status = row[3].split(',')[i].split('@')[0]
                                    var syncid = row[3].split(',')[i].split('@')[1]
                                    var rqq = row[3].split(',')[i].split('@')[2]
                                    if (status == '1') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-warning"></i>'
                                    } else if (status == '0') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-success"></i>'
                                    } else {
                                        tmp = ''
                                    }
                                    result = result + '&nbsp;&nbsp;' + tmp + '&nbsp;&nbsp;';
                                }
                                return result
                            }
                        },
                        {
                            "title": "客流设备",
                            "width": "9%",
                            "className": 'table_td_center',
                            "render": function (data, type, row, meta) {
                                var tmp = '';
                                var result = '';
                                for (i = 0; i < row[4].split(',').length; i++) {
                                    var status = row[4].split(',')[i].split('@')[0]
                                    var syncid = row[4].split(',')[i].split('@')[1]
                                    var rqq = row[4].split(',')[i].split('@')[2]
                                    if (status == '1') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-warning"></i>'
                                    } else if (status == '0') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-success"></i>'
                                    } else {
                                        tmp = ''
                                    }
                                    result = result + '&nbsp;&nbsp;' + tmp + '&nbsp;&nbsp;';
                                }
                                return result
                            }
                        },
                        {
                            "title": "离线车流",
                            "width": "9%",
                            "className": 'table_td_center',
                            "render": function (data, type, row, meta) {
                                var tmp = '';
                                var result = '';
                                for (i = 0; i < row[5].split(',').length; i++) {
                                    var status = row[5].split(',')[i].split('@')[0]
                                    var syncid = row[5].split(',')[i].split('@')[1]
                                    var rqq = row[5].split(',')[i].split('@')[2]
                                    if (status == '1') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-warning"></i>'
                                    } else if (status == '0') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-success"></i>'
                                    } else {
                                        tmp = ''
                                    }
                                    result = result + '&nbsp;&nbsp;' + tmp + '&nbsp;&nbsp;';
                                }
                                return result
                            }
                        },
                        {
                            "title": "实时车流",
                            "width": "9%",
                            "className": 'table_td_center',
                            "render": function (data, type, row, meta) {
                                var tmp = '';
                                var result = '';
                                for (i = 0; i < row[6].split(',').length; i++) {
                                    var status = row[6].split(',')[i].split('@')[0]
                                    var syncid = row[6].split(',')[i].split('@')[1]
                                    var rqq = row[6].split(',')[i].split('@')[2]
                                    if (status == '1') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-warning"></i>'
                                    } else if (status == '0') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-success"></i>'
                                    } else {
                                        tmp = ''
                                    }
                                    result = result + '&nbsp;&nbsp;' + tmp + '&nbsp;&nbsp;';
                                }
                                return result
                            }
                        },
                        {
                            "title": "德利多付",
                            "width": "5%",
                            "className": 'table_td_center',
                            "render": function (data, type, row, meta) {
                                var tmp = '';
                                var result = '';
                                for (i = 0; i < row[7].split(',').length; i++) {
                                    var status = row[7].split(',')[i].split('@')[0]
                                    var syncid = row[7].split(',')[i].split('@')[1]
                                    var rqq = row[7].split(',')[i].split('@')[2]
                                    if (status == '1') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-warning"></i>'
                                    } else if (status == '0') {
                                        tmp = '<i id="' + status + '@' + syncid + '@' + rqq + '" class="ion-ios7-lightbulb color-success"></i>'
                                    } else {
                                        tmp = ''
                                    }
                                    result = result + '&nbsp;&nbsp;' + tmp + '&nbsp;&nbsp;';
                                }
                                return result
                            }
                        },
                        {"title": "生成时间", "width": "9%"},
                    ],
                    "language": get_languages()
                });
                if (dataSet['failure'] > 0) {
                    $('#sync-num').html('成功：' + dataSet['success'] + '个,失败:<font color="#FF0000">' + dataSet['failure'] + '</font> 个')
                } else {
                    $('#sync-num').html('成功：' + dataSet['success'] + '个,失败:' + dataSet['failure'] + '个')
                }
            },
        });

        $(".fixed-panel>div").each(function () {
            id = $(this).attr('id');
            if (!(id === undefined) && (id != 'monitor_review') && (id.indexOf('total') >= 0)) {
                get_contents_from_div(id, id)
            }

            if (!(id === undefined) && (id != 'monitor_review') && (id.indexOf('order') >= 0 || id.indexOf('real_sync') >= 0)) {
                console.log('------------------:', id)
                get_contents_from_div(id, id)
            }

        });
    });

    $("#db-sync-prod").on("click", "td i", function () {
        var sync_sts = $(this).attr('id').split('@')[0];
        var sync_tag = $(this).attr('id').split('@')[1];
        var max_syrq = $(this).attr('id').split('@')[2];
        $.ajax({
            url: "/get/sync",
            type: "post",
            datatype: "json",
            data: {
                sync_tag: sync_tag,
            },
            success: function (dataSet) {
                $('.modal').on('show.bs.modal', centerModals);
                $(window).on('resize', centerModals);
                set_sync_task(dataSet, max_syrq, sync_sts);
                $('#con-modal-sync-task').modal({
                    keyboard: false,
                    backdrop: false
                });
            },
        })
    })

    $('.fixed-panel>div').click(function () {
        var id = $(this).attr('id');
        $('#begin_date').val(GetDate(3));
        $('#end_date').val(GetDate(2));
        get_contents_from_div_large(id, 'monitor_review');
        $('#monitor_review_title').text(get_title_by_id(id));
        $('#monitor_review_title_hidden').val(id);
        $('.modal').on('show.bs.modal', centerModals);
        $(window).on('resize', centerModals);
        $('#con-modal-img-win').modal({
            keyboard: false,
            backdrop: false
        });
    });

    $('#query_btn').click(function () {
        id = $('#monitor_review_title_hidden').val()
        get_contents_from_div(id, 'monitor_review');
    });

</script>

</body>